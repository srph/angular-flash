var app=angular.module("angular-flash",[]);app.provider("flash",function(){var t=function(t,i){e[t]=i},i=[{type:"success","class":"alert alert-success alert-dismissible"},{type:"info","class":"alert alert-info alert-dismissible"},{type:"warning","class":"alert alert-warning alert-dismissible"},{type:"danger","class":"alert alert-danger alert-dismissible"}],e=function(t){return angular.copy(t)}(i),n=function(i){var n;(n=s(i.type))&&t(n,i),e.push(i)},r=function(t){var i=e.map(function(t){return t.type}).indexOf(t);return i},s=function(t){return r(t)};this._lifetime=1e4,this._registry=e,this.lifetime=function(t){return angular.isDefined(t)&&(this._lifetime=t),this._lifetime},this.register=function(t){if(angular.isArray(t))angular.forEach(t,function(t){this.register(t)},this);else{if(!angular.isObject(t))throw new Error("Registered data is not an object!");n(t)}return this};var a=this;this.$get=["$rootScope",function(t){var i={},e=[],n=function(t){return t=parseInt(t,10),a._registry[t].class},r=function(t){var e=i.list().map(function(t){return t.message}).indexOf(t);return e},l=function(t){var i=r(t);return angular.equals(i,-1)?!1:!0},o=function(t){return angular.equals(t.unique,!0)&&l(t.message)?!0:!1},u=function(e){var r,a=e.type;if(-1==(r=s(a)))throw new Error(e.type+" is not defined in the registry!");o(e)||(e.class=n(r),i.list().push(e),t.$emit("$flashFired"))};return i.lifetime=function(){return a.lifetime()},i.fire=function(t){if(angular.isArray(t))angular.forEach(t,function(t){this.fire(t)},this);else{if(!angular.isObject(t))throw new Error("Data is neither an object nor an array");u(t)}return this},i.remove=function(i){this.list().splice(i,1),t.$emit("$flashFireRemoved")},i.clean=function(){this.list([])},i.shift=function(){this.list().shift(),t.$emit("$flashFiredRemoved")},i.list=function(t){if(angular.isDefined(t)){if(!angular.isArray(t))throw new Error("New _list is not an array!");e=angular.copy(t)}return e},i}]}),app.directive("flash",function(){function t(t,i,e,n){t.list=n.list();var r=function(){e(function(){n.shift()},n.lifetime(),!0)};t.close=function(t){n.remove(t)},t.$watch("list",function(){r()},!0)}t.$inject=["$scope","$rootScope","$timeout","flash"];var i='<div class="ng-notification-flash-container" role="alert"><div ng-repeat="item in list"class="ng-notification-flash-inner {{ item.class }}"><button type="button" class="close" ng-click="close($index)"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button><p> {{ item.message }} </p></div></div>';return{restrict:"AE",transclude:!0,template:i,controller:t}});