"use strict";var app=angular.module("angular-flash",[]);app.provider("$flash",[function(){this._lifetime=2e3,this._registry=[],this.lifetime=function(i){return void 0!==i&&(this._liftime=i),this._lifetime},this.isInRegistry=function(i){return!(-1==this._registry.map(function(i){return i.type}).indexOf(i))},this.register=function(t){if(t instanceof Array)angular.forEach(t,function(i){this.register(i)},i);else{if("object"!=typeof t)return console.error("Data is not an object!");if(this.isInRegistry(t.type))return console.error("Given name is already in the registry");this._registry.push(t)}return this};var i=this;this.$get=["$rootScope",function(t){var e={};return e._list=[],e.lifetime=function(t){return i.lifetime(t)},e.fire=function(e){if(e instanceof Array)angular.forEach(e,function(i){this.register(i)},i);else{if("object"!=typeof e)return console.error("Not an object nor an array");if(!i.isInRegistry(e.type))return console.error("Given name is not in the registry!");this._list.push(e),t.$emit("$flashFired")}return this},e}]}]),app.directive("flash",[function(){var i=function(i,t,e,r){var n=function(){e(function(){r._list.shift(),i.list=r._list,t.$emit("$flashFiredRemoved")},r.lifetime(),!0)};t.$on("$flashFired",function(){console.log("Fired!"),i.list=r._list,console.log(i.list.length),n()})},t='<div id="ng-notification-flash-container" style="position: fixed; left: 0; right: 0;"><div id="ng-notification-flash-inner" ng-repeat="item in list" class="{{ item.type }}" style="display: block; background: red;"><p> {{ item.message }} </p></div></div>';return{restrict:"AE",transclude:!0,template:t,controller:["$scope","$rootScope","$timeout","$flash",i]}}]);