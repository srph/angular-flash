<!DOCTYPE html>
<html lang="en">
<head>
	<title> Flash Example </title>
	<meta charset="utf-8">
	<link href="components/bootstrap/dist/css/bootstrap.css" rel="stylesheet" type="text/css">
	<link href="modules/angular-flash.css" rel="stylesheet" type="text/css">
	<style>
		.alert {
			width: 250px;
		}
	</style>
</head>

<body>
	<flash></flash>
	<h1> Flash Example </h1>

	<div ng-controller="ExCtrl">
		<button type="button" ng-click="flash()" class="btn btn-primary"> Flash </button>
	</div>

	<script type="text/javascript" src="components/angular/angular.min.js"></script>
	<script type="text/javascript" src="components/angular-animate/angular-animate.min.js"></script>
	<script type="text/javascript" src="modules/angular-flash.js"></script>

	<script type="text/javascript">

			var app = angular.module('app', ['angular-flash', 'ngAnimate']);

			app.config([
				'$flashProvider',
				function($flashProvider) {
					// console.log($flashProvider);
					// $flashProvider
					// 	.register({ 'type': 'error', 'class': 'alert alert-danger'})
					// 	.register({ 'type': 'success', 'class': 'alert alert-success'})
					// 	.register({ 'type': 'info', 'class': 'alert alert-info'})
					// 	.register({ 'type': 'warning', 'class': 'alert alert-warning'});

					// An example of lifetime being configured
					$flashProvider.lifetime(5000);
				}
			]);

			app.controller('ExCtrl', [
				'$scope',
				'$flash',
				function($scope, $flash) {
					$scope.flash = function() {
						var random = Math.ceil(Math.random() * (3) + 0);
						var types = ['danger', 'success', 'info', 'warning'];
						var message = ['Currently processing your request...', 'Yes, milord!', 'Justice is ours.', 'I came in like a wrecking ball!'];
						$flash.fire({ 'type': types[random], 'message':  message[random] });
					}
				}
			]);

		angular.element(document).ready(function() {
			console.log('Application is starting..');
			try {
				angular.bootstrap(document, ['app']);
			} catch(e) {
				console.log(e);
			}
		});
	</script>
</body>
</html>